(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(66)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=a(2),s=(a(41),a(5)),v=a(7),u=a(9),i=a(8),h=a(10),m=(a(42),a(3)),p=function(){return{type:"ERROR_CATCHED",payload:!0}},d=function(e){return function(t){return function(a){a({type:"FETCHING_STARTED",payload:{posts:null,hasError:!1}}),setTimeout(function(){e.getNews(t).then(function(e){a(function(e){return{type:"FETCHING_POSTS",payload:e}}(e)),a({type:"FETCHING_FINISHED"})}).catch(function(e){return a({type:"ERROR_CATCHED",payload:!0})})},500)}}},f=r.a.createContext(),b=f.Provider,E=f.Consumer,g=function(){return function(e){return function(t){return r.a.createElement(E,null,function(a){return r.a.createElement(e,Object.assign({},t,{theGuardianService:a}))})}}},y=g()(Object(o.b)(null,function(e,t){var a=t.theGuardianService;return Object(m.b)({fetchPosts:d(a)},e)})(function(e){var t=e.fetchPosts;return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"808",height:"118",viewBox:"0 0 808 118",className:"navbar-brand logo"},r.a.createElement("g",{fill:"none"},r.a.createElement("path",{fill:"#AAD8F1",d:"M384.978 76.085c0 18.034-11.928 26.767-24.921 26.767-14.2 0-24.637-9.017-24.637-26.199 0-18.176 12.07-26.696 24.992-26.696 14.129 0 24.566 8.875 24.566 26.128zm-24.779-24.85c-5.964 0-8.52 5.467-8.52 24.992 0 20.235 2.272 25.347 8.52 25.347 5.964 0 8.378-5.254 8.378-24.85 0-20.59-2.414-25.489-8.378-25.489zm67.799 30.175c0 15.265-8.378 21.513-18.105 21.513-2.911 0-5.396-.426-6.532-.852v12.922l4.615.994v1.207h-21.655v-1.207l4.047-.994v-47.428l-4.26-1.704v-1.207l15.691-2.272 1.491.142v4.473h.426c1.988-2.343 5.68-4.828 10.934-4.828 7.455 0 13.348 5.112 13.348 19.241zm-13.561 1.42c0-11.857-2.556-15.265-6.958-15.265-1.633 0-3.053.355-4.118.781v31.382c.923.71 2.13 1.349 3.905 1.349 4.473 0 7.171-4.615 7.171-18.247zm51.682-1.633h-23.288c.497 9.585 3.55 15.478 13.49 15.478 3.266 0 6.035-.426 8.662-1.562v1.136c-2.201 3.337-7.597 6.816-15.336 6.816-13.135 0-19.88-7.952-19.88-20.661 0-12.425 7.384-20.164 19.312-20.164 11.999 0 17.04 6.39 17.04 17.963v.994zm-17.324-17.608c-3.692 0-5.964 4.97-5.964 16.188l11.005-.497c0-12.212-1.633-15.691-5.041-15.691zm19.235 37.204l4.047-1.136v-32.092l-4.26-1.704v-1.207l15.478-2.272 1.562.142v4.97h.426c3.337-3.408 8.307-5.325 13.206-5.325 6.745 0 9.727 3.195 9.727 10.295v27.193l4.047 1.136v1.207h-20.59v-1.207l3.621-.923v-26.696c0-3.834-1.704-5.538-5.041-5.538-2.059 0-3.692.497-5.183 1.278v30.956l3.55.923v1.207h-20.59v-1.207zm70.412-49.984c14.484 0 20.59 5.183 20.59 15.691 0 11.289-7.81 16.33-19.241 16.33-2.343 0-3.976-.284-5.751-.639v17.608l5.68.994v1.207h-25.489v-1.207l4.828-1.065v-46.647l-4.828-1.065v-1.207h24.211zm-1.207 30.246c4.615 0 6.887-3.692 6.887-14.413 0-11.076-2.343-14.484-7.1-14.484h-2.982v28.613c1.065.213 2.059.284 3.195.284zm21.663-32.873l15.762-2.272 1.562.213v53.534l4.047 1.136v1.207h-21.087v-1.207l4.047-1.136v-48.635l-4.331-1.633v-1.207zm34.5 32.589l8.52-1.633v-5.183c0-7.881-1.704-10.437-6.035-10.437-.497 0-.923.071-1.42.142l-9.585 12.993h-1.207l.284-12.07c3.692-1.136 8.307-2.414 14.413-2.414 10.508 0 16.614 2.911 16.614 11.715v25.276l3.763.994v.994c-1.491.923-4.473 1.775-7.739 1.775-5.183 0-7.668-1.704-8.804-4.544h-.355c-2.201 2.982-5.325 4.686-10.224 4.686-6.248 0-10.508-3.905-10.508-10.65 0-6.532 4.047-10.082 12.283-11.644zm5.254 17.182c1.633 0 2.556-.497 3.266-1.349v-15.62l-2.627.213c-4.118.355-5.609 2.982-5.609 8.804 0 6.319 2.059 7.952 4.97 7.952zm25.199-32.163h-5.538v-1.278l5.538-1.42v-6.958l12.922-2.059v9.017h8.591v2.698h-8.591v25.844c0 3.976 1.207 5.609 5.467 5.609 1.349 0 2.698-.142 3.55-.355v1.207c-2.272 2.414-6.177 4.686-10.792 4.686-7.384 0-11.147-3.408-11.147-11.786v-25.205zm39.754 33.867l5.041 1.136v1.207h-22.152v-1.207l4.118-1.136v-33.867h-4.331v-1.278l4.331-1.42v-3.976c0-9.656 7.1-13.277 15.407-13.277 3.337 0 5.68.142 9.372.71l.213 11.573h-1.207l-6.887-10.934c-2.769 0-3.905 2.059-3.905 8.875v7.029h7.171v2.698h-7.171v33.867zm27.897 3.408c-11.857 0-19.951-8.023-19.951-20.661 0-12.496 7.952-20.235 19.88-20.235 11.928 0 20.022 7.739 20.022 20.306 0 12.638-7.952 20.59-19.951 20.59zm0-39.618c-3.905 0-5.964 3.763-5.964 19.028 0 15.336 2.059 19.312 6.035 19.312 3.905 0 5.893-4.047 5.893-19.383 0-15.265-1.917-18.957-5.964-18.957zm20.939 1.207l15.691-2.272 1.278.142v11.076h.355c1.988-8.449 5.254-11.644 9.656-11.644.71 0 1.491.071 1.917.284v11.715c-.71-.213-1.988-.284-3.195-.284-3.55 0-6.177.355-8.449 1.278v24.779l5.254 1.065v1.207h-22.294v-1.207l4.047-1.065v-32.163l-4.26-1.704v-1.207zm30.382 36.139l4.047-1.065v-32.163l-4.26-1.704v-1.207l15.407-2.272 1.562.142v5.112h.426c3.337-3.408 7.029-5.467 12.07-5.467 4.473 0 7.242 1.42 8.733 5.538h.284c3.479-3.55 7.384-5.538 12.425-5.538 6.39 0 9.869 3.266 9.869 10.366v27.193l4.118 1.065v1.207h-20.022v-1.207l3.195-1.065v-26.98c0-3.55-1.633-4.97-4.828-4.97-1.562 0-3.124.497-4.402 1.207v30.743l3.195 1.065v1.207h-18.886v-1.207l3.266-1.065v-26.98c0-3.55-1.42-4.97-4.757-4.97-1.775 0-3.195.568-4.473 1.278v30.672l3.124 1.065v1.207h-20.093v-1.207z"}),r.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M72.381 55.621l5.539-2.883v-43.568h-4.188l-10.239 13.585h-1.151l.646-15.138h44.387l.645 15.138h-1.222l-10.026-13.585h-4.295v43.474l5.576 2.943v1.469h-25.672zM113.322 53.693v-48.275l-4.303-1.721v-.899l15.568-2.798h1.642v22.842l.43-.365c3.442-3.012 8.389-4.948 13.337-4.948 6.813 0 9.824 3.845 9.824 11.017v25.147l3.639 1.982.002 1.463h-20.348v-1.455l3.657-1.989v-25.23c0-3.944-1.722-5.521-4.948-5.521-2.151 0-4.006.674-5.378 1.776v29.043l3.585 1.98v1.396h-20.361v-1.388l3.654-2.057zm52.191-14.824c.422 7.979 3.996 14.154 12.469 14.154 4.094 0 7.002-1.898 9.742-3.343v1.571c-2.117 2.894-7.484 6.963-14.968 6.963-13.131 0-19.838-7.3-19.838-19.938 0-12.354 7.343-20.048 19.203-20.048 11.155 0 16.944 5.576 16.944 20.261v.379h-23.552v.001zm-.213-1.838l11.551-.706c0-9.885-1.693-16.445-5.082-16.445-3.601-.001-6.469 7.62-6.469 17.151zm-165.3 39.36c0-21.012 13.907-28.493 29.401-28.493 6.575 0 12.773 1.058 16.249 2.494l.303 14.663h-1.478l-9.096-14.188c-1.558-.669-3.035-.931-5.756-.931-8.239 0-12.447 9.515-12.315 25.118.157 18.669 3.401 27.142 10.959 27.142 1.965 0 3.477-.303 4.535-.756v-19.986l-4.988-2.858v-1.676h24.111v1.785l-4.915 2.749v19.728c-4.08 1.588-10.958 3.099-18.214 3.099-17.61-.001-28.796-8.163-28.796-27.89m50.87-9.806v-1.212l16.219-2.859 1.777.148v31.951c0 3.852 1.852 5.035 4.962 5.035 1.999 0 3.81-.761 5.258-2.482v-28.656l-4.444-1.925v-1.259l16.219-2.859 1.63.147v36.624l4.369 1.835v1.165l-15.997 1.967-1.629-.148v-4.812h-.445c-2.962 2.739-7.109 5.109-12.145 5.109-7.776 0-11.331-4.592-11.331-11.553v-24.291l-4.443-1.925zm103.579-4.139l1.333.147-.004 11.828h.37c1.732-8.672 5.554-11.907 10.22-11.907.741 0 1.555.073 1.999.298v12.1c-.741-.222-2.073-.296-3.332-.296-3.703 0-6.425.669-8.813 1.761l.004 23.378 3.687 2.046.001 1.518h-21.027v-1.503l3.787-2.056v-31.898l-4.444-1.325v-1.083l16.219-3.008zm41.714.997v-12.476l-4.443-1.556v-.999l16.367-3.009 1.555.223v53.596l4.518 1.64v1.381l-16.145 2.178-1.258-.148v-4.435h-.371c-2.369 2.368-5.629 4.517-10.737 4.517-8.813 0-15.257-6.739-15.257-20.513 0-14.518 7.479-21.657 18.811-21.657 3.257-.001 5.701.592 6.96 1.258m-.023 34.315v-32.038c-1.036-.666-1.786-1.489-4.473-1.396-4.377.155-7.08 6.764-7.08 18.539 0 10.589 1.943 16.509 7.776 16.314 1.629-.054 2.963-.637 3.777-1.419m36.706-35.349l1.407.149v37.197l3.697 2.046.002 1.517h-21.027v-1.504l3.775-2.055v-31.323l-4.518-1.777v-1.241l16.664-3.009zm1.482-10.043c0 3.926-3.333 6.888-7.185 6.888-3.998 0-7.109-2.962-7.109-6.888 0-3.925 3.111-6.962 7.109-6.962 3.852 0 7.185 3.037 7.185 6.962zm49.204 47.393v-31.667l-4.443-1.555v-1.536l16.145-3.008 1.629.147v4.74h.444c3.481-3.11 8.666-5.11 13.774-5.11 7.037 0 10.146 3.332 10.146 10.738v27.188l3.771 2.103v1.517h-21.026v-1.503l3.776-2.055v-26.508c0-4.074-1.776-5.702-5.109-5.702-2.148 0-3.919.544-5.555 1.767v30.433l3.703 2.053v1.517h-21.035v-1.503l3.78-2.056zm-23.871-19.902v-5.311c0-8.003-1.745-10.622-6.693-10.622-.58 0-1.09.073-1.673.146l-8.803 11.931h-1.235v-10.984c3.782-1.164 8.51-2.547 14.767-2.547 10.768 0 17.024 2.983 17.024 12.004v25.899l3.855 1.019v1.018c-1.528.946-4.584 1.819-7.93 1.819-5.311 0-7.857-1.746-9.021-4.656h-.363c-2.256 3.055-5.457 4.802-10.476 4.802-6.402 0-10.767-4.001-10.767-10.913 0-6.692 4.146-10.331 12.586-11.931l8.729-1.674zm0 17.896v-16.003l-2.691.217c-4.221.364-5.748 3.057-5.748 9.021 0 6.475 2.111 8.147 5.094 8.147 1.673 0 2.619-.509 3.345-1.382zm-140.486-17.896v-5.311c0-8.003-1.745-10.622-6.693-10.622-.581 0-1.09.073-1.673.146l-8.803 11.931h-1.236v-10.984c3.783-1.164 8.511-2.547 14.767-2.547 10.768 0 17.024 2.983 17.024 12.004v25.899l3.856 1.019v1.018c-1.528.946-4.584 1.819-7.93 1.819-5.31 0-7.857-1.746-9.021-4.656h-.364c-2.255 3.055-5.456 4.802-10.475 4.802-6.402 0-10.767-4.001-10.767-10.913 0-6.692 4.146-10.331 12.586-11.931l8.729-1.674zm0 17.896v-16.003l-2.691.217c-4.221.364-5.748 3.057-5.748 9.021 0 6.475 2.111 8.147 5.093 8.147 1.672 0 2.619-.509 3.346-1.382z"}))),r.a.createElement("button",{type:"button",className:"btn btn-outline-light mr-3 font-weight-bold",onClick:function(){t(1)}},"Watch latest news"))})),O=(a(43),function(e){var t=e.id,a=e.title,n=e.body,l=e.webUrl;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex",id:"heading-".concat(t)},r.a.createElement("h2",{className:"mb-0"},r.a.createElement("button",{className:"btn btn-link text-dark font-weight-bold",type:"button","data-toggle":"collapse","data-target":"#collapse-".concat(t),"aria-expanded":"true","aria-controls":"collapseOne"},a))),r.a.createElement("div",{id:"collapse-".concat(t),className:"collapse","aria-labelledby":"heading-".concat(t),"data-parent":"#accordionExample"},r.a.createElement("div",{className:"card-body"},n,r.a.createElement("div",null,r.a.createElement("a",{href:l,className:"btn btn-dark pl-3 pr-3 mt-3"},"Read full article")))))}),N=(a(44),function(){return r.a.createElement("div",{className:"loader"},"Loading...")}),j=(a(45),Object(o.b)(function(e){return{posts:e.posts}})(function(e){var t=e.posts;return r.a.createElement("div",{className:"accordion news-list",id:"accordionExample"},null!==t?t.map(function(e,t){var a=e.fields.bodyText.split(" ",100).join(" ");return r.a.createElement(O,{key:t,id:t,title:e.webTitle,webUrl:e.webUrl,body:a+"..."})}):r.a.createElement(N,null))})),w=(a(46),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.onButtonClickHandler=function(e){var t=a.props,n=t.fetchPosts,r=t.currentPage;return n(1===r&&-1===e?1:r+e)},a.onKeypressHandler=function(e){var t=a.props,n=t.fetchPosts,r=t.currentPage;13===e.keyCode&&(1===r&&a.state.value<1?n(1):(n(a.state.value),a.setState({value:""})))},a.onChangeHandler=function(e){a.setState({value:e.target.value})},a}return Object(h.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentPage,n=t.totalPages;return r.a.createElement("div",{className:"navigation"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-dark m-3 ",onClick:function(){e.onButtonClickHandler(-1)},disabled:1===a?"disabled":null},"Prev. page")),r.a.createElement("div",{className:"pagination"},r.a.createElement("div",null,r.a.createElement("span",null,"Page ",a," of ",n)),r.a.createElement("div",null,r.a.createElement("input",{type:"number",className:"form-control mt-3 input-field",onKeyDown:function(t){e.onKeypressHandler(t)},onChange:function(t){e.onChangeHandler(t)},value:this.state.value}),'Input page number and press "Enter"')),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-dark m-3",onClick:function(){e.onButtonClickHandler(1)}},"Next page")))}}]),t}(n.Component)),z=g()(Object(o.b)(function(e){return{currentPage:e.currentPage,totalPages:e.totalPages}},function(e,t){var a=t.theGuardianService;return Object(m.b)({fetchPosts:d(a)},e)})(w)),C=(a(47),function(){return r.a.createElement("div",{className:"error-indicator mt-5"},r.a.createElement("i",{className:"far fa-newspaper icon"}),r.a.createElement("span",{className:"error-title"},"THE GUARDIAN ERROR"),r.a.createElement("span",{className:"error-text"},"Pease reload this page"))}),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(){this.props.errorCatched()}},{key:"render",value:function(){return this.props.hasError?r.a.createElement(C,null):this.props.children}}]),t}(n.Component),k={errorCatched:p},H=Object(o.b)(function(e){return{hasError:e.hasError}},k)(P),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts(1)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(H,null,r.a.createElement(j,null)),r.a.createElement(z,null))}}]),t}(n.Component),R=g()(Object(o.b)(null,function(e,t){var a=t.theGuardianService;return Object(m.b)({fetchPosts:d(a)},e)})(T)),x=a(11),D=a.n(x),_=a(18),S=a(29),I=a.n(S),F=a(30),A=a.n(F),G=a(31),U=a(13),B={currentPage:"",totalPages:"",posts:null,hasError:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_POSTS":return console.log(t.payload),Object(U.a)({},e,{currentPage:t.payload.currentPage,totalPages:t.payload.totalPages,posts:t.payload.posts});case"ERROR_CATCHED":return Object(U.a)({},e,{hasError:t.payload});case"FETCHING_STARTED":return Object(U.a)({},e,{posts:t.payload.posts,hasError:t.payload.hasError});case"FETCHING_FINISHED":default:return e}},M=Object(m.c)(K,Object(m.a)(G.a,A.a)),J=new function e(){var t=this;Object(s.a)(this,e),this._apiKey="53810346-e447-4f62-86ed-b961f580ee95",this._apiUrl="https://content.guardianapis.com/search",this.getData=function(){var e=Object(_.a)(D.a.mark(function e(t){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get(t,{params:{"show-fields":"all"}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),this.getNews=function(){var e=Object(_.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData("".concat(t._apiUrl,"?page=").concat(a,"&api-key=").concat(t._apiKey));case 2:return n=e.sent,e.abrupt("return",t._transformData(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this._transformData=function(e){return{currentPage:e.data.response.currentPage,totalPages:e.data.response.total,posts:e.data.response.results}}};c.a.render(r.a.createElement(o.a,{store:M},r.a.createElement(b,{value:J},r.a.createElement(R,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.254e0448.chunk.js.map